(this["webpackJsonpprojeto14-mywallet-front"]=this["webpackJsonpprojeto14-mywallet-front"]||[]).push([[0],{51:function(e,t,r){},52:function(e,t,r){},53:function(e,t,r){"use strict";r.r(t);var n=r(36),a=r.n(n),c=r(6),s=r(0),o=r(12),i=r(4),l=Object(s.createContext)(),u=r(5),j=r(8),b=r(15),p=r(3);function h(){var e=Object(s.useState)(""),t=Object(c.a)(e,2),r=t[0],n=t[1],a=Object(s.useState)(""),h=Object(c.a)(a,2),O=h[0],d=h[1],x=Object(s.useContext)(l).setUser,f=Object(i.l)();function v(){return(v=Object(j.a)(Object(u.a)().mark((function e(t){var n,a,c;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={email:r,password:O},e.prev=2,e.next=5,b.a.post("http://localhost:5000/sign-in",n);case 5:a=e.sent,c=a.data,x(c),f("/transfers"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("Erro ");case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return Object(p.jsx)("div",{className:"",children:Object(p.jsxs)("form",{children:[Object(p.jsx)("input",{type:"text",onChange:function(e){return n(e.target.value)},placeholder:"E-mail"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"password",onChange:function(e){return d(e.target.value)},placeholder:"Senha"}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{type:"submit",onClick:function(e){return v.apply(this,arguments)},children:"Entrar"}),Object(p.jsx)("p",{children:Object(p.jsx)(o.b,{to:"/sign-up",style:{fontSize:14,color:"white"},children:"Primeira vez? Cadastrate-se!"})})]})})}function O(){var e=Object(s.useState)(""),t=Object(c.a)(e,2),r=t[0],n=t[1],a=Object(s.useState)(""),l=Object(c.a)(a,2),h=l[0],O=l[1],d=Object(s.useState)(""),x=Object(c.a)(d,2),f=x[0],v=x[1],y=Object(s.useState)(""),m=Object(c.a)(y,2),g=m[0],S=m[1],w=Object(i.l)();function C(){return(C=Object(j.a)(Object(u.a)().mark((function e(t){var n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={name:r,email:h,password:f,confirmPassword:g},e.prev=2,e.next=5,b.a.post("http://localhost:5000/sign-up",n);case 5:w("/sign-in"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("Deu erro ao cadastrar o usuario");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}return Object(p.jsx)("div",{className:"",children:Object(p.jsxs)("form",{children:[Object(p.jsx)("input",{type:"text",onChange:function(e){return n(e.target.value)},placeholder:"Nome"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"text",onChange:function(e){return O(e.target.value)},placeholder:"E-mail"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"password",onChange:function(e){return v(e.target.value)},placeholder:"Senha"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"password",onChange:function(e){return S(e.target.value)},placeholder:"Confirme a Senha"}),Object(p.jsx)("button",{type:"submit",onClick:function(e){return C.apply(this,arguments)},children:"Cadastrar"}),Object(p.jsx)("p",{children:Object(p.jsx)(o.b,{to:"/",style:{fontSize:14,color:"white"},children:"J\xe1 tem uma conta? Entre agora!"})})]})})}function d(){var e=Object(s.useContext)(l).user,t=Object(s.useState)([]),r=Object(c.a)(t,2),n=r[0],a=r[1];Object(s.useEffect)((function(){function t(){return(t=Object(j.a)(Object(u.a)().mark((function t(){var r,n;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.get("http://localhost:5000/transfer",{headers:{Authorization:"Bearer ".concat(e.token)}});case 3:r=t.sent,n=r.data,console.log(n),a(n),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),alert("Erro ao chamar lista de transfer\xeancias"),console.error(t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var i=n.length>0?n.reduce((function(e,t){return"entry"===t.type?e+t.value:e-t.value}),0):0;return Object(p.jsxs)("div",{className:"",children:[Object(p.jsxs)("p",{children:["Ol\xe1 ",e.name]}),Object(p.jsx)(o.b,{to:"/",children:" Sair "}),Object(p.jsxs)("div",{style:{backgroundColor:"white",width:200,height:250},children:[n.length>0?Object(p.jsxs)("p",{style:{color:"gray",fontSize:12},children:["Lista de transa\xe7\xf5es",Object(p.jsx)("p",{children:n.map((function(e,t){return Object(p.jsxs)("p",{style:"entry"===e.type?{color:"green"}:{color:"red"},children:[e.createAt," | ",e.description," | ",e.value]},t)}))})]}):Object(p.jsx)("span",{style:{color:"gray",fontSize:12},children:"N\xe3o h\xe1 registros de entrada ou sa\xedda"}),Object(p.jsxs)("h4",{children:["Saldo: ",i]})]}),Object(p.jsxs)("p",{children:[Object(p.jsx)(o.b,{to:"/entry",children:"Nova Entrada"})," |"," ",Object(p.jsx)(o.b,{to:"/exit",children:"Nova Sa\xedda"})]})]})}function x(){var e=Object(s.useState)(""),t=Object(c.a)(e,2),r=t[0],n=t[1],a=Object(s.useState)(""),o=Object(c.a)(a,2),h=o[0],O=o[1],d=Object(s.useContext)(l).user,x=Object(i.l)();function f(){return(f=Object(j.a)(Object(u.a)().mark((function e(t){var n,a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={description:h,type:"entry",value:parseFloat(r)},a={headers:{Authorization:"Bearer ".concat(d.token)}},e.prev=3,e.next=6,b.a.post("http://localhost:5000/transfer",n,a);case 6:alert("Nova entrada adicionada"),x("/transfer"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),alert("Erro ao enviar nova entrada"),console.log(e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Nova entrada"}),Object(p.jsxs)("form",{children:[Object(p.jsx)("input",{type:"number",placeholder:"Valor",value:r,onChange:function(e){return n(e.target.value)}}),Object(p.jsx)("input",{type:"text",placeholder:"Descri\xe7\xe3o",value:h,onChange:function(e){return O(e.target.value)}}),Object(p.jsx)("button",{type:"submit",onClick:function(e){return f.apply(this,arguments)},children:"Salvar entrada"})]})]})}function f(){var e=Object(s.useState)(""),t=Object(c.a)(e,2),r=t[0],n=t[1],a=Object(s.useState)(""),o=Object(c.a)(a,2),h=o[0],O=o[1],d=Object(s.useContext)(l).user,x=Object(i.l)();function f(){return(f=Object(j.a)(Object(u.a)().mark((function e(t){var n,a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={description:h,type:"exit",value:parseFloat(r)},a={headers:{Authorization:"Bearer ".concat(d.token)}},e.prev=3,e.next=6,b.a.post("http://localhost:5000/transfer",n,a);case 6:alert("Nova sa\xedda adicionada"),x("/transfer"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),alert("Erro ao enviar nova sa\xedda"),console.log(e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Nova sa\xedda"}),Object(p.jsxs)("form",{children:[Object(p.jsx)("input",{type:"number",placeholder:"Valor",value:r,onChange:function(e){return n(e.target.value)}}),Object(p.jsx)("input",{type:"text",placeholder:"Descri\xe7\xe3o",value:h,onChange:function(e){return O(e.target.value)}}),Object(p.jsx)("button",{type:"submit",onClick:function(e){return f.apply(this,arguments)},children:"Salvar entrada"})]})]})}function v(){var e=Object(s.useState)(null),t=Object(c.a)(e,2),r=t[0],n=t[1];return Object(p.jsx)(l.Provider,{value:{user:r,setUser:n},children:Object(p.jsx)(o.a,{children:Object(p.jsxs)(i.c,{children:[Object(p.jsx)(i.a,{path:"/sign-in",element:Object(p.jsx)(h,{})}),Object(p.jsx)(i.a,{path:"/sign-up",element:Object(p.jsx)(O,{})}),Object(p.jsx)(i.a,{path:"/transfers",element:Object(p.jsx)(d,{})}),Object(p.jsx)(i.a,{path:"/entry",element:Object(p.jsx)(x,{})}),Object(p.jsx)(i.a,{path:"/exit",element:Object(p.jsx)(f,{})})]})})})}r(51),r(52);a.a.render(Object(p.jsx)(v,{}),document.querySelector(".root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.54404244.chunk.js.map